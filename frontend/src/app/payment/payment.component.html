<div class="container-fluid" style="min-height: 100vh;">
  <div class="card">
    <h4 class="text-center">Choose Your Payment Method</h4>

    <!-- Payment Method Selection -->
    <div class="payment-methods">
      <div class="form-check">
        <input type="radio" id="carte" name="paymentMethod" value="carte" [(ngModel)]="selectedPaymentMethod" class="form-check-input">
        <label for="carte" class="form-check-label">Credit Card</label>
      </div>
      <div class="form-check">
        <input type="radio" id="cash" name="paymentMethod" value="espece" [(ngModel)]="selectedPaymentMethod" class="form-check-input">
        <label for="espece" class="form-check-label">Cash</label>
      </div>
    </div>

    <!-- Credit Card Details -->
    <div *ngIf="selectedPaymentMethod === 'carte'" class="credit-card-details">
      <div class="form-group">
        <label for="cardNumber">Card Number</label>
        <input type="text" id="cardNumber" class="form-control" placeholder="Enter card number">
      </div>
      <div class="form-group">
        <label for="cardName">Name on Card</label>
        <input type="text" id="cardName" class="form-control" placeholder="Enter name on card">
      </div>
      <div class="form-group">
        <label for="expiryDate">Expiry Date</label>
        <input type="text" id="expiryDate" class="form-control" placeholder="MM/YY">
      </div>
      <div class="form-group">
        <label for="cvv">CVV</label>
        <input type="text" id="cvv" class="form-control" placeholder="Enter CVV">
      </div>

      <div *ngIf="isLoading" class="loading-container">
        <div class="spinner"></div>
        <p>Processing payment...</p>
      </div>

      <!-- Success message section -->
      <div *ngIf="showSuccessMessage" class="success-message">
        <p class="text-center mt-2 " style="color: rgb(21, 229, 21)">Transaction Success</p>
      </div>

      @if (showFailureMessage) {
        <div>
          <p class="text-center mt-2 " style="color: rgb(244, 7, 7)">Transaction Error</p>
        </div>
      }



      <button [disabled]="isLoading" class="btn btn-primary btn-block mt-4" (click)="payWithCreditCard()">Pay</button>


    </div>


    <!-- Cash Payment Information -->
    <div *ngIf="selectedPaymentMethod === 'espece'" class="cash-payment-info">
      <p><strong>Cash Payment</strong></p>
      <p>Please prepare the exact amount for cash payment.</p>
      <button class="btn btn-success btn-block" (click)="payWithCreditCard()">Confirm Payment</button>
    </div>
  </div>
